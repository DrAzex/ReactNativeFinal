{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext } from \"react\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Context } from \"../../App\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\nimport Loader from \"../Loader/Loader\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function Messenger() {\n  var _useContext = useContext(Context),\n      firestore = _useContext.firestore,\n      auth = _useContext.auth;\n\n  var _useAuthState = useAuthState(auth),\n      _useAuthState2 = _slicedToArray(_useAuthState, 1),\n      user = _useAuthState2[0];\n\n  var _useCollection = useCollection(firestore.collection('posts').orderBy('createAt')),\n      _useCollection2 = _slicedToArray(_useCollection, 2),\n      messages = _useCollection2[0],\n      loading = _useCollection2[1];\n\n  if (loading) {\n    return _jsx(Loader, {});\n  }\n\n  var postCount = messages.docs.filter(function (post) {\n    return post.data().uid == user.uid;\n  }).length;\n  var likeCount = 0;\n  messages.docs.filter(function (post) {\n    return post.data().uid == user.uid;\n  }).map(function (mes) {\n    likeCount += mes.data().likeCount;\n  });\n  var style = StyleSheet.create({\n    info: {\n      width: '50%',\n      flex: 1,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    img: {\n      borderRadius: 50,\n      marginRight: 10\n    },\n    view: {\n      marginTop: 10\n    },\n    textDesign: {\n      fontSize: 30\n    },\n    like: {\n      width: 80,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    comments: {\n      width: \"100%\",\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    signOut: {\n      width: 100,\n      height: 40,\n      backgroundColor: \"white\",\n      justifyContent: 'center',\n      alignItems: \"center\",\n      borderRadius: 30,\n      marginTop: 10,\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      borderColor: \"black\",\n      marginBottom: 10\n    },\n    appButtonText1: {\n      fontSize: 18,\n      color: \"black\",\n      fontWeight: \"bold\",\n      alignSelf: \"center\",\n      textTransform: \"uppercase\"\n    },\n    appButtonContainer1: {\n      elevation: 8,\n      backgroundColor: \"white\",\n      borderRadius: 10,\n      width: \"100%\",\n      height: 50,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    }\n  });\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: [_jsxs(ScrollView, {\n      children: [_jsxs(View, {\n        children: [_jsxs(Text, {\n          style: {\n            color: \"#009688\",\n            fontSize: 16,\n            marginLeft: 15\n          },\n          children: [\"Your name is \", user.displayName]\n        }), _jsx(View, {\n          style: style.view\n        }), _jsxs(Text, {\n          style: {\n            color: \"#009688\",\n            fontSize: 16,\n            marginLeft: 15\n          },\n          children: [\"Post count \", postCount]\n        }), _jsx(View, {\n          style: style.view\n        }), _jsxs(Text, {\n          style: {\n            color: \"#009688\",\n            fontSize: 16,\n            marginLeft: 15\n          },\n          children: [\"Likes count \", likeCount]\n        }), _jsx(View, {\n          style: style.view\n        }), _jsx(View, {\n          style: style.appButtonContainer1,\n          children: _jsx(Text, {\n            style: style.appButtonText1,\n            children: \"Your posts\"\n          })\n        })]\n      }), messages.docs.filter(function (post) {\n        return post.data().uid == user.uid;\n      }).map(function (message) {\n        return _jsx(View, {\n          style: {\n            backgroundColor: \"white\",\n            marginTop: 10,\n            marginBottom: 10\n          },\n          children: _jsxs(View, {\n            style: {\n              borderSize: \"30px\",\n              margin: 20\n            },\n            children: [_jsxs(View, {\n              style: style.info,\n              children: [_jsx(Image, {\n                style: style.img,\n                source: {\n                  uri: message.data().photoURL,\n                  width: 60,\n                  height: 60,\n                  resizeMode: \"contain\"\n                }\n              }), _jsx(Text, {\n                style: style.textDesign,\n                children: message.data().displayName\n              })]\n            }), _jsxs(View, {\n              children: [_jsx(Text, {\n                style: {\n                  marginTop: 10\n                },\n                children: message.data().text\n              }), message.data().img ? _jsx(Image, {\n                style: {\n                  marginBottom: 10,\n                  marginTop: 10\n                },\n                source: {\n                  uri: message.data().img,\n                  width: 350,\n                  height: 350,\n                  defaultSource: 'http://www.dermalina.com/wp-content/uploads/2020/12/no-image.jpg',\n                  resizeMode: \"contain\"\n                }\n              }) : _jsx(_Fragment, {})]\n            })]\n          }, message.id)\n        });\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: style.signOut,\n      title: \"Sing out\",\n      onPress: function onPress() {\n        return console.log(auth.signOut());\n      },\n      children: _jsx(Text, {\n        children: \"Sing out\"\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useContext","Context","useAuthState","useCollection","Loader","Messenger","firestore","auth","user","collection","orderBy","messages","loading","postCount","docs","filter","post","data","uid","length","likeCount","map","mes","style","StyleSheet","create","info","width","flex","flexDirection","justifyContent","alignItems","img","borderRadius","marginRight","view","marginTop","textDesign","fontSize","like","comments","signOut","height","backgroundColor","marginLeft","borderColor","marginBottom","appButtonText1","color","fontWeight","alignSelf","textTransform","appButtonContainer1","elevation","displayName","message","borderSize","margin","uri","photoURL","resizeMode","text","defaultSource","id","console","log"],"sources":["/Users/user/Desktop/ReactNativeFinal/Components/Profile/Profile.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { TouchableOpacity, Text, View, Image, ScrollView, StyleSheet } from 'react-native';\r\n\r\nimport { Context } from \"../../App\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nexport default function Messenger() {\r\n    const { firestore, auth } = useContext(Context)\r\n    const [user] = useAuthState(auth)\r\n    const [messages, loading] = useCollection(\r\n        firestore.collection('posts').orderBy('createAt')\r\n    )\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n    let postCount = messages.docs.filter(post => post.data().uid == user.uid).length;\r\n    let likeCount = 0\r\n    messages.docs.filter(post => post.data().uid == user.uid).map(mes => { likeCount += mes.data().likeCount });\r\n    const style = StyleSheet.create({\r\n        info: {\r\n            width: '50%',\r\n            flex: 1,\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n        },\r\n        img: {\r\n            borderRadius: 50,\r\n            marginRight: 10,\r\n        },\r\n        view: {\r\n            marginTop: 10,\r\n        },\r\n        textDesign: {\r\n            fontSize: 30,\r\n\r\n        },\r\n        like: {\r\n            width: 80,\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n        },\r\n        comments: {\r\n            width: \"100%\",\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n        },\r\n        signOut: {\r\n            width: 100,\r\n            height: 40,\r\n            backgroundColor: \"white\",\r\n            justifyContent: 'center',\r\n            alignItems: \"center\",\r\n            borderRadius: 30,\r\n            marginTop: 10,\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n            borderColor: \"black\",\r\n            marginBottom: 10,\r\n        },\r\n        appButtonText1: {\r\n            fontSize: 18,\r\n            color: \"black\",\r\n            fontWeight: \"bold\",\r\n            alignSelf: \"center\",\r\n            textTransform: \"uppercase\",\r\n        },\r\n        appButtonContainer1: {\r\n            elevation: 8,\r\n            backgroundColor: \"white\",\r\n            borderRadius: 10,\r\n            width: \"100%\",\r\n            height: 50,\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n        },\r\n    });\r\n    return (\r\n        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n\r\n            <ScrollView>\r\n                <View>\r\n\r\n                    <Text style={{ color: \"#009688\", fontSize: 16 ,marginLeft:15}}>Your name is {user.displayName}</Text>\r\n                    <View style={style.view}></View>\r\n                    <Text style={{ color: \"#009688\", fontSize: 16,marginLeft:15 }}>Post count {postCount}</Text>\r\n                    <View style={style.view}></View>\r\n                    <Text style={{ color: \"#009688\", fontSize: 16 ,marginLeft:15}}>Likes count {likeCount}</Text>\r\n                    <View style={style.view}></View>\r\n                    <View style={style.appButtonContainer1}>\r\n                        <Text style={style.appButtonText1}>Your posts</Text>\r\n                    </View>\r\n                </View>\r\n\r\n                {\r\n                    messages.docs.filter(post => post.data().uid == user.uid).map(message =>\r\n                        <View style={{ backgroundColor: \"white\", marginTop: 10, marginBottom: 10 }}>\r\n                            <View style={{ borderSize: \"30px\", margin: 20 }} key={message.id}>\r\n                                <View style={style.info}>\r\n                                    <Image style={style.img} source={{\r\n                                        uri: message.data().photoURL,\r\n                                        width: 60,\r\n                                        height: 60,\r\n                                        resizeMode: \"contain\",\r\n                                    }} />\r\n                                    <Text style={style.textDesign}>{message.data().displayName}</Text>\r\n                                </View>\r\n                                <View>\r\n                                    <Text style={{ marginTop: 10 }}>{message.data().text}</Text>\r\n                                    {(message.data().img) ? <Image style={{ marginBottom: 10, marginTop: 10 }} source={{\r\n                                        uri: message.data().img,\r\n                                        width: 350,\r\n                                        height: 350,\r\n                                        defaultSource: 'http://www.dermalina.com/wp-content/uploads/2020/12/no-image.jpg',\r\n                                        resizeMode: \"contain\"\r\n                                    }} /> : <></>}\r\n                                </View>\r\n\r\n                            </View>\r\n                        </View>\r\n                    )}\r\n\r\n            </ScrollView>\r\n\r\n            <TouchableOpacity style={style.signOut} title='Sing out' onPress={() => console.log(auth.signOut())}><Text>Sing out</Text></TouchableOpacity>\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}